# Linear API Configuration
# Option 1: OAuth (Recommended for agents - creates dedicated bot user)
# Create an application at https://linear.app/settings/api/applications
# Set callback URL to: http://localhost:3456/oauth/callback
# Enable "actor=app" for dedicated bot identity
LINEAR_CLIENT_ID=your-client-id
LINEAR_CLIENT_SECRET=your-client-secret

# Option 2: API Key (Legacy - uses your personal account)
# LINEAR_API_KEY=lin_api_xxxx

# Required: Team and optional project filter
LINEAR_TEAM_ID=your-team-id
LINEAR_PROJECT_ID=optional-project-id

# Anthropic API Configuration
ANTHROPIC_API_KEY=sk-ant-xxxx
ANTHROPIC_MODEL=claude-sonnet-4-5

# GitHub Repository Configuration
# The repository where agents will create branches and PRs
GITHUB_REPO=owner/repo-name

# Agent Configuration
# Maximum concurrent analysis tasks (evaluate, refine, etc.)
AGENTS_MAX_CONCURRENT=5
# Maximum concurrent Claude Code instances (set to 1 for development)
AGENTS_MAX_CODE_EXECUTORS=1
AGENTS_WORK_DIR=/path/to/target/repo
AGENTS_TIMEOUT_MINUTES=60
AGENTS_MAX_RETRIES=2

# Agent Model Configuration (optional - uses defaults if not set)
# These models must support structured outputs (Claude 4.5 required)
# AGENTS_MODEL_FAST=claude-haiku-4-5-20251001
# AGENTS_MODEL_STANDARD=claude-sonnet-4-5-20250929
# AGENTS_MODEL_ADVANCED=claude-opus-4-5-20251101

# Daemon Configuration
DAEMON_POLL_INTERVAL_SECONDS=30

# Debug Mode Configuration
# Enable debug mode to save prompts and include them in Linear comments
DEBUG_MODE=false
# Directory where prompts will be cached (relative to AGENTS_WORK_DIR)
# DEBUG_CACHE_PROMPTS_DIR=.task-agent/cached-prompts

# Webhook Configuration (for real-time Linear updates)
# Enable webhooks to reduce polling and get instant notifications
WEBHOOK_ENABLED=false
WEBHOOK_PORT=3000
# Get this from Linear when you create the webhook
# LINEAR_WEBHOOK_SECRET=your-webhook-signing-secret

# To set up webhooks in development:
# 1. Set WEBHOOK_ENABLED=true
# 2. Run: ./scripts/ngrok.sh (in a separate terminal)
# 3. Copy the ngrok HTTPS URL
# 4. In Linear: Settings > API > Webhooks > New Webhook
# 5. Set URL to: <ngrok-url>/webhook
# 6. Select events: Issue, Comment
# 7. Copy the signing secret to LINEAR_WEBHOOK_SECRET
